/*!For license information please see 132.4799d31a12bb3d82ea85.bundle.js.LICENSE*/(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{1348:function(e,t,i){!function(){var t=function(e,i){var n=this;this.isOpened=!1,this.input=r(e),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),i=i||{},function(e,t,i){for(var n in t){var r=t[n],s=e.input.getAttribute("data-"+n.toLowerCase());e[n]="number"==typeof r?parseInt(s):!1===r?null!==s:r instanceof Function?null:s,e[n]||0===e[n]||(e[n]=n in i?i[n]:r)}}(this,{minChars:2,maxItems:10,autoFirst:!1,data:t.DATA,filter:t.FILTER_CONTAINS,sort:!1!==i.sort&&t.SORT_BYLENGTH,item:t.ITEM,replace:t.REPLACE},i),this.index=-1,this.container=r.create("div",{className:"awesomplete",around:e}),this.ul=r.create("ul",{hidden:"hidden",inside:this.container}),this.status=r.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),this._events={input:{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(e){var t=e.keyCode;n.opened&&(13===t&&n.selected?(e.preventDefault(),n.select()):27===t?n.close({reason:"esc"}):38!==t&&40!==t||(e.preventDefault(),n[38===t?"previous":"next"]()))}},form:{submit:this.close.bind(this,{reason:"submit"})},ul:{mousedown:function(e){var t=e.target;if(t!==this){for(;t&&!/li/i.test(t.nodeName);)t=t.parentNode;t&&0===e.button&&(e.preventDefault(),n.select(t,e.target))}}}},r.bind(this.input,this._events.input),r.bind(this.input.form,this._events.form),r.bind(this.ul,this._events.ul),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||i.list||[],t.all.push(this)};function i(e){var t=Array.isArray(e)?{label:e[0],value:e[1]}:"object"==typeof e&&"label"in e&&"value"in e?e:{label:e,value:e};this.label=t.label||t.value,this.value=t.value}t.prototype={set list(e){if(Array.isArray(e))this._list=e;else if("string"==typeof e&&e.indexOf(",")>-1)this._list=e.split(/\s*,\s*/);else if((e=r(e))&&e.children){var t=[];n.apply(e.children).forEach((function(e){if(!e.disabled){var i=e.textContent.trim(),n=e.value||i,r=e.label||i;""!==n&&t.push({label:r,value:n})}})),this._list=t}document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.isOpened},close:function(e){this.opened&&(this.ul.setAttribute("hidden",""),this.isOpened=!1,this.index=-1,r.fire(this.input,"awesomplete-close",e||{}))},open:function(){this.ul.removeAttribute("hidden"),this.isOpened=!0,this.autoFirst&&-1===this.index&&this.goto(0),r.fire(this.input,"awesomplete-open")},destroy:function(){r.unbind(this.input,this._events.input),r.unbind(this.input.form,this._events.form);var e=this.container.parentNode;e.insertBefore(this.input,this.container),e.removeChild(this.container),this.input.removeAttribute("autocomplete"),this.input.removeAttribute("aria-autocomplete");var i=t.all.indexOf(this);-1!==i&&t.all.splice(i,1)},next:function(){var e=this.ul.children.length;this.goto(this.index<e-1?this.index+1:e?0:-1)},previous:function(){var e=this.ul.children.length,t=this.index-1;this.goto(this.selected&&-1!==t?t:e-1)},goto:function(e){var t=this.ul.children;this.selected&&t[this.index].setAttribute("aria-selected","false"),this.index=e,e>-1&&t.length>0&&(t[e].setAttribute("aria-selected","true"),this.status.textContent=t[e].textContent,this.ul.scrollTop=t[e].offsetTop-this.ul.clientHeight+t[e].clientHeight,r.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(e,t){if(e?this.index=r.siblingIndex(e):e=this.ul.children[this.index],e){var i=this.suggestions[this.index];r.fire(this.input,"awesomplete-select",{text:i,origin:t||e})&&(this.replace(i),this.close({reason:"select"}),r.fire(this.input,"awesomplete-selectcomplete",{text:i}))}},evaluate:function(){var e=this,t=this.input.value;t.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map((function(n){return new i(e.data(n,t))})).filter((function(i){return e.filter(i,t)})),!1!==this.sort&&(this.suggestions=this.suggestions.sort(this.sort)),this.suggestions=this.suggestions.slice(0,this.maxItems),this.suggestions.forEach((function(i){e.ul.appendChild(e.item(i,t))})),0===this.ul.children.length?this.close({reason:"nomatches"}):this.open()):this.close({reason:"nomatches"})}},t.all=[],t.FILTER_CONTAINS=function(e,t){return RegExp(r.regExpEscape(t.trim()),"i").test(e)},t.FILTER_STARTSWITH=function(e,t){return RegExp("^"+r.regExpEscape(t.trim()),"i").test(e)},t.SORT_BYLENGTH=function(e,t){return e.length!==t.length?e.length-t.length:e<t?-1:1},t.ITEM=function(e,t){var i=""===t.trim()?e:e.replace(RegExp(r.regExpEscape(t.trim()),"gi"),"<mark>$&</mark>");return r.create("li",{innerHTML:i,"aria-selected":"false"})},t.REPLACE=function(e){this.input.value=e.value},t.DATA=function(e){return e},Object.defineProperty(i.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),i.prototype.toString=i.prototype.valueOf=function(){return""+this.label};var n=Array.prototype.slice;function r(e,t){return"string"==typeof e?(t||document).querySelector(e):e||null}function s(e,t){return n.call((t||document).querySelectorAll(e))}function o(){s("input.awesomplete").forEach((function(e){new t(e)}))}r.create=function(e,t){var i=document.createElement(e);for(var n in t){var s=t[n];if("inside"===n)r(s).appendChild(i);else if("around"===n){var o=r(s);o.parentNode.insertBefore(i,o),i.appendChild(o)}else n in i?i[n]=s:i.setAttribute(n,s)}return i},r.bind=function(e,t){if(e)for(var i in t){var n=t[i];i.split(/\s+/).forEach((function(t){e.addEventListener(t,n)}))}},r.unbind=function(e,t){if(e)for(var i in t){var n=t[i];i.split(/\s+/).forEach((function(t){e.removeEventListener(t,n)}))}},r.fire=function(e,t,i){var n=document.createEvent("HTMLEvents");for(var r in n.initEvent(t,!0,!0),i)n[r]=i[r];return e.dispatchEvent(n)},r.regExpEscape=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},r.siblingIndex=function(e){for(var t=0;e=e.previousElementSibling;t++);return t},"undefined"!=typeof Document&&("loading"!==document.readyState?o():document.addEventListener("DOMContentLoaded",o)),t.$=r,t.$$=s,"undefined"!=typeof self&&(self.Awesomplete=t),e.exports&&(e.exports=t)}()},1349:function(e,t,i){var n=/["'&<>]/;e.exports=function(e){var t,i=""+e,r=n.exec(i);if(!r)return i;var s="",o=0,a=0;for(o=r.index;o<i.length;o++){switch(i.charCodeAt(o)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==o&&(s+=i.substring(a,o)),a=o+1,s+=t}return a!==o?s+i.substring(a,o):s}},270:function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"default",(function(){return SearchAutocomplete}));var awesomplete__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1348),awesomplete__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(awesomplete__WEBPACK_IMPORTED_MODULE_0__),es6_delegate__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(277),es6_delegate__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(es6_delegate__WEBPACK_IMPORTED_MODULE_1__),escape_html__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1349),escape_html__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(escape_html__WEBPACK_IMPORTED_MODULE_2__),_Environment__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(25),enterModule;enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},reactHotLoader,leaveModule;class SearchAutocomplete{get form(){return this.input.closest("form")}get flatResults(){return this.combinedResults=[{label:this.input.value,value:{userProvided:!0}}],this.addResults(),this.combinedResults}constructor(e){this.results=void 0,this.resultTypes=["keywords","categories","products","vendors"],this.count=0,this.input=void 0,this.awesomplete=void 0,this.combinedResults=[],this.goto=e=>{let t=e.target;if(!t)return;"B"===t.tagName&&t.parentElement&&(t=t.parentElement);const i=t.parentElement;if(!i||!i.parentElement)return;const n=[...i.parentElement.children].indexOf(i);this.awesomplete.goto(n)},this.search=e=>{if(this.input.value.length<2)return Promise.resolve(!1);if(!e.target)return Promise.resolve(!1);this.count+=1;const t=this.count,i=encodeURIComponent(e.target.value),n=`https://catalog.${_Environment__WEBPACK_IMPORTED_MODULE_3__.default.domainWithEnvironment}/wss/autosuggest/?queryText=${i}`;return fetch(n).then(e=>e.json()).then(e=>{t<this.count||(this.results=e,this.results.products=e.prods,this.results.keywords=e.keywords.filter(e=>"string"==typeof e&&e.toLowerCase()!==`<b>${this.input.value}</b>`.toLowerCase()),this.awesomplete.list=this.flatResults)})},this.action=e=>{if(e.value.href)return void(window.location.href=e.value.href);if(e.value.userProvided||"string"!=typeof e.label||(this.input.value=e.label.replace("<b>","").replace("</b>","")),!this.form)return;const t=this.form.getElementsByClassName("btn btn-info banner-search-btn");t[0]&&t[0].click()},this.addResultsFor=e=>{if(!this.results)return;const t=[];this.results[e].forEach(e=>{let i;e.hasOwnProperty("link")&&(i=e.link),t.push({label:SearchAutocomplete.extractResultName(e),value:{href:i}})}),t.length>0&&(t[0].value.first=!0,t[0].value.resultType=e),this.combinedResults=this.combinedResults.concat(t)},this.input=e,e.addEventListener("input",this.search),this.awesomplete=new awesomplete__WEBPACK_IMPORTED_MODULE_0___default.a(this.input,{list:[],autoFirst:!0}),this.awesomplete.sort=!1,this.awesomplete.filter=()=>!0,this.awesomplete.item=SearchAutocomplete.createSearchResult,this.awesomplete.maxItems=50,this.awesomplete.replace=this.action,es6_delegate__WEBPACK_IMPORTED_MODULE_1___default()(this.form,"mouseover",".result",this.goto)}static createSearchResult(e){const t=document.createElement("li");return e.value.userProvided?t.innerHTML=`<div class="result">Search for <strong> ${escape_html__WEBPACK_IMPORTED_MODULE_2___default()(e.toString())}</strong></div>`:t.innerHTML=`<span class="result-section">${e.value.first?e.value.resultType:""}</span><span class="result">${e}</span>`,e.value.first&&t.classList.add("first"),t}addResults(){this.resultTypes.forEach(this.addResultsFor)}static extractResultName(e){return"string"==typeof e?e:e.name||e.description}__reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&reactHotLoader.register(SearchAutocomplete,"SearchAutocomplete","D:\\CF2016-PROD\\_work\\10\\s\\html\\template\\site2012\\lib\\js\\common\\SearchAutocomplete\\index.ts"),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(2)(module))},277:function(e,t,i){var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(l){r=!0,s=l}finally{try{!n&&a.return&&a.return()}finally{if(r)throw s}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}e.exports=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var s=t;3===s.length&&(s=[[document.documentElement]].concat(r(s))),"String"===s[0].constructor.name?s[0]=[].concat(r(document.querySelectorAll(s[0]))):s[0].forEach?s[0]=[].concat(r(s[0])):s[0]=[s[0]],"String"!==s[2].constructor.name&&(s[2].forEach?s[2]=[].concat(r(s[2])):s[2]=[s[2]]);var o=s,a=n(o,4),l=a[0],u=a[1],c=a[2],h=a[3],d=u.split(" "),p=function(e){var t=void 0;if("String"===c.constructor.name)t=e.target.closest(c);else{var i=c.filter((function(t){return t===e.target||t.contains(e.target)}));t=n(i,1)[0]}t&&(e.relatedElements=l,h.call(t,e,t))};return l.forEach((function(e){d.forEach((function(t){e.addEventListener(t,p,!0)}))})),p}}}]);